---
import type { ImageMetadata } from 'astro';
import type { HTMLAttributes } from 'astro/types';
import { Picture } from 'astro:assets';

interface Props extends Pick<HTMLAttributes<'image'>, 'class'> {
  src: Promise<{
    default: ImageMetadata;
  }>;
  alt: string;
}

const { alt, src, class: className, ...rest } = Astro.props;
---

<Picture class={className} inferSize layout='constrained' formats={['avif', 'webp']} alt={alt} src={src} {...rest} />
